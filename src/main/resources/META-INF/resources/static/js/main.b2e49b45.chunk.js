(this.webpackJsonprapp=this.webpackJsonprapp||[]).push([[0],{14:function(e,t,r){},27:function(e,t,r){},28:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){"use strict";r.r(t);var s=r(0),a=r(1),i=r.n(a),n=r(17),o=r.n(n),c=(r(27),r(6)),l=r(7),d=r(9),u=r(8),h=(r(28),r(12));var p=function(e){return Object(s.jsx)("div",{className:"lb",children:Object(s.jsxs)(h.b,{to:"post/"+e.data.id,className:"card",children:[Object(s.jsx)("h3",{children:e.data.title}),Object(s.jsx)("p",{children:e.data.preview})]})})},m=(r(34),function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(e){var s;return Object(c.a)(this,r),(s=t.call(this,e)).state={data:[{id:1,title:"TTT",preview:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris et metus nisl. Etiam nibh nibh, blandit ut ultrices vitae, dictum vitae nulla. Aenean viverra sapien at lacus feugiat, non mattis ex interdum. Sed sollicitudin erat vel mauris dapibus, quis suscipit sem maximus. Nam maximus libero ut orci aliquam, eget eleifend turpis elementum. Proin sit amet hendrerit urna, at consectetur nisi. Nullam sed sapien eget velit molestie gravida fringilla id velit. Aliquam varius diam urna, vitae tempus turpis ornare id. Fusce in sodales arcu. Pellentesque mattis urna ut dolor gravida commodo. Sed massa risus, maximus in libero eu, dapibus laoreet nisl. Cras mattis justo eget nisl bibendum, mattis accumsan ante posuere. Fusce nisi mauris, convallis pellentesque augue eu, cursus venenatis tortor."}],isLoaded:!1},s}return Object(l.a)(r,[{key:"componentWillMount",value:function(){var e=this;fetch("api/posts").then((function(e){return e.json()})).then((function(t){e.setState({data:t}),e.setState({isLoaded:!0})})).catch((function(t){e.setState({isLoaded:!1}),console.error(t)}))}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"grid",children:this.state.isLoaded&&Object(s.jsx)(s.Fragment,{children:this.state.data.map((function(e){return Object(s.jsx)(p,{data:e},e.id)}))})})}}]),r}(i.a.Component));r(35);var j=function(e){return Object(s.jsx)("div",{className:"button",onClick:e.data.action,children:Object(s.jsx)("span",{children:e.children})})},b=(r(14),function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(e){var s;return Object(c.a)(this,r),(s=t.call(this,e)).state={focusedL:!1,focusedP:!1},s}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("form",{className:"form",children:[Object(s.jsxs)("div",{className:"cool-input "+(this.state.focusedL?"focused ":" ")+(this.props.errorEmail?"error":""),children:[Object(s.jsx)("span",{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(s.jsx)("input",{onClick:function(){return e.props.errorEmailHandler()},onBlur:function(){return e.setState({focusedL:!1})},onFocus:function(){return e.setState({focusedL:!0})},onChange:function(t){return e.props.emailLabelHandler(t)},id:"email"})]}),Object(s.jsxs)("div",{className:"cool-input "+(this.state.focusedP?"focused ":" ")+(this.props.errorPassword?"error":""),children:[Object(s.jsx)("span",{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(s.jsx)("input",{onClick:function(){e.props.errorPasswordHandler()},onBlur:function(){return e.setState({focusedP:!1})},onFocus:function(){return e.setState({focusedP:!0})},onChange:function(t){return e.props.passwordLabelHandler(t)},id:"password",type:"password"})]})]})}}]),r}(i.a.Component)),f=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(e){var s;return Object(c.a)(this,r),(s=t.call(this,e)).state={focusedL:!1,focusedP:!1,focusedPP:!1},s}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("form",{className:"form",children:[Object(s.jsxs)("div",{className:"cool-input "+(this.state.focusedL?"focused ":" ")+(this.props.errorEmail?"error":""),children:[Object(s.jsx)("span",{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(s.jsx)("input",{onClick:function(){return e.props.errorEmailHandler()},onBlur:function(){return e.setState({focusedL:!1})},onFocus:function(){return e.setState({focusedL:!0})},onChange:function(t){return e.props.emailLabelHandler(t)},id:"email"})]}),Object(s.jsxs)("div",{className:"cool-input "+(this.state.focusedP?"focused ":" ")+(this.props.errorPassword?"error":""),children:[Object(s.jsx)("span",{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(s.jsx)("input",{onClick:function(){e.props.errorPasswordHandler()},onBlur:function(){return e.setState({focusedP:!1})},onFocus:function(){return e.setState({focusedP:!0})},onChange:function(t){return e.props.passwordLabelHandler(t)},id:"password",type:"password"})]}),Object(s.jsxs)("div",{className:"cool-input "+(this.state.focusedPP?"focused ":" ")+(this.props.errorRepPassword?"error":""),children:[Object(s.jsx)("span",{children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(s.jsx)("input",{onClick:function(){e.props.errorRepPasswordHandler()},onBlur:function(){return e.setState({focusedPP:!1})},onFocus:function(){return e.setState({focusedPP:!0})},onChange:function(t){return e.props.repPasswordLabelHandler(t)},id:"rep-password",type:"password"})]})]})}}]),r}(i.a.Component),v=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(e){var s;return Object(c.a)(this,r),(s=t.call(this,e)).state={focusedL:!1,focusedP:!1},s}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return Object(s.jsx)("form",{className:"form",children:Object(s.jsxs)("div",{className:"cool-input "+(this.state.focusedL?"focused ":" ")+(this.props.errorEmail?"error":""),children:[Object(s.jsx)("span",{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(s.jsx)("input",{onClick:function(){return e.props.errorEmailHandler()},onBlur:function(){return e.setState({focusedL:!1})},onFocus:function(){return e.setState({focusedL:!0})},onChange:function(t){return e.props.emailLabelHandler(t)},id:"email"})]})})}}]),r}(i.a.Component),w=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={errorRepPassword:!1,errorPassword:!1,errorEmail:!1,show:!1,type:"login",enterButtonText:"\u0412\u043e\u0439\u0442\u0438",dataL:{action:function(){return e.setState({show:!0})}},dataCancel:{action:function(){e.resetError(),e.setState({show:!1})}},dataEnter:{action:function(){e.submit(e.state.type)}},dataLogin:{action:function(){e.loginTab()}},dataRegister:{action:function(){e.registerTab()}},dataRecover:{action:function(){e.recoverTab()}},email:"",password:"",repPassword:""},e.emailLabelHandler=function(t){e.setState({email:t.target.value})},e.passwordLabelHandler=function(t){e.setState({password:t.target.value})},e.repPasswordLabelHandler=function(t){e.setState({repPassword:t.target.value})},e.errorEmailHandler=function(){e.setState({errorEmail:!1})},e.errorPasswordHandler=function(){e.setState({errorPassword:!1})},e.errorRepPasswordHandler=function(){e.setState({errorRepPassword:!1})},e}return Object(l.a)(r,[{key:"validateEmail",value:function(e){return/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)}},{key:"loginTab",value:function(){this.resetError(),this.setState({type:"login"}),this.setState({enterButtonText:"\u0412\u043e\u0439\u0442\u0438"})}},{key:"registerTab",value:function(){this.resetError(),this.setState({type:"register"}),this.setState({enterButtonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}},{key:"recoverTab",value:function(){this.resetError(),this.setState({type:"recover"}),this.setState({enterButtonText:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})}},{key:"resetError",value:function(){this.setState({errorEmail:!1}),this.setState({errorPassword:!1}),this.setState({errorRepPassword:!1})}},{key:"setAllError",value:function(){this.setState({errorEmail:!0}),this.setState({errorPassword:!0}),this.setState({errorRepPassword:!0})}},{key:"setEmailError",value:function(){this.setState({errorEmail:!0})}},{key:"setPasswordError",value:function(){this.setState({errorPassword:!0})}},{key:"setRepPasswordError",value:function(){this.setState({errorRepPassword:!0})}},{key:"setPasError",value:function(){this.setState({errorPassword:!0}),this.setState({errorRepPassword:!0})}},{key:"submit",value:function(e){var t=this;if(this.resetError(),this.validateEmail(this.state.email)){var r,s=this.state.errorPassword,a=this.state.errorRepPassword;switch(e){case"login":""!==this.state.password?r={type:e,email:this.state.email,password:this.state.password}:(s=!0,this.setPasswordError());break;case"register":""!==this.state.password?""!==this.state.repPassword?this.state.password===this.state.repPassword?r={type:e,email:this.state.email,password:this.state.password,repPassword:this.state.repPassword}:(s=!0,a=!0,this.setPasError()):(a=!0,this.setRepPasswordError()):(s=!0,this.setPasswordError());break;case"recover":r={type:e,email:this.state.email}}if(!this.state.errorEmail&&!s&&!a){var i=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");fetch(i+"/api/system",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){"sl"===e.res||"srg"===e.res||"src"===e.res?(t.resetError(),t.setState({show:!1})):t.setAllError()}),(function(e){console.log(e),t.setAllError()}))}}else this.setEmailError()}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(j,{data:this.state.dataL,children:"\u0412\u043e\u0439\u0442\u0438"}),this.state.show&&Object(s.jsx)("div",{className:"modal",children:Object(s.jsxs)("div",{className:"modal-body",children:[Object(s.jsxs)("div",{className:"title",children:[Object(s.jsx)("h4",{className:"login"+("login"===this.state.type?" active":""),children:Object(s.jsx)(j,{data:this.state.dataLogin,children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})}),Object(s.jsx)("h4",{className:"register"+("register"===this.state.type?" active":""),children:Object(s.jsx)(j,{data:this.state.dataRegister,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(s.jsx)("h4",{className:"recover"+("recover"===this.state.type?" active":""),children:Object(s.jsx)(j,{data:this.state.dataRecover,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435"})})]}),"login"===this.state.type&&Object(s.jsx)(b,{emailLabelHandler:this.emailLabelHandler,passwordLabelHandler:this.passwordLabelHandler,errorEmailHandler:this.errorEmailHandler,errorPasswordHandler:this.errorPasswordHandler,errorEmail:this.state.errorEmail,errorPassword:this.state.errorPassword}),"register"===this.state.type&&Object(s.jsx)(f,{emailLabelHandler:this.emailLabelHandler,passwordLabelHandler:this.passwordLabelHandler,repPasswordLabelHandler:this.repPasswordLabelHandler,errorEmailHandler:this.errorEmailHandler,errorPasswordHandler:this.errorPasswordHandler,errorRepPasswordHandler:this.errorRepPasswordHandler,errorEmail:this.state.errorEmail,errorPassword:this.state.errorPassword,errorRepPassword:this.state.errorRepPassword}),"recover"===this.state.type&&Object(s.jsx)(v,{emailLabelHandler:this.emailLabelHandler,passwordLabelHandler:this.passwordLabelHandler,errorEmailHandler:this.errorEmailHandler,errorPasswordHandler:this.errorPasswordHandler,errorEmail:this.state.errorEmail,errorPassword:this.state.errorPassword}),Object(s.jsxs)("div",{className:"footer",children:[Object(s.jsx)("div",{className:"enter",children:Object(s.jsx)(j,{data:this.state.dataEnter,children:this.state.enterButtonText})}),Object(s.jsx)("div",{className:"cancel",children:Object(s.jsx)(j,{data:this.state.dataCancel,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})})]})]})})]})}}]),r}(i.a.Component),O=(r(36),function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(e){var s;return Object(c.a)(this,r),(s=t.call(this,e)).state={data:{id:1,title:"TEMPLATE",body:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris et metus nisl. Etiam nibh nibh, blandit ut ultrices vitae, dictum vitae nulla. Aenean viverra sapien at lacus feugiat, non mattis ex interdum. Sed sollicitudin erat vel mauris dapibus, quis suscipit sem maximus. Nam maximus libero ut orci aliquam, eget eleifend turpis elementum. Proin sit amet hendrerit urna, at consectetur nisi. Nullam sed sapien eget velit molestie gravida fringilla id velit. Aliquam varius diam urna, vitae tempus turpis ornare id. Fusce in sodales arcu. Pellentesque mattis urna ut dolor gravida commodo. Sed massa risus, maximus in libero eu, dapibus laoreet nisl. Cras mattis justo eget nisl bibendum, mattis accumsan ante posuere. Fusce nisi mauris, convallis pellentesque augue eu, cursus venenatis tortor.",author:"admin"},isLoaded:!1},s}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");fetch(t+"/api"+window.location.pathname).then((function(e){return e.json()})).then((function(t){e.setState({data:t}),e.setState({isLoaded:!0})})).catch((function(t){e.setState({isLoaded:!1}),console.error(t)}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"post",children:[Object(s.jsx)(h.b,{to:"/",children:Object(s.jsx)("span",{children:"\u276e \u041d\u0430\u0437\u0430\u0434"})}),this.state.isLoaded&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"title",children:Object(s.jsx)("h3",{children:this.state.data.title})}),Object(s.jsx)("div",{className:"body",children:Object(s.jsx)("p",{children:this.state.data.body})})]})]})}}]),r}(i.a.Component)),x=r(2);o.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(h.a,{children:Object(s.jsxs)(x.c,{children:[Object(s.jsx)(x.a,{exact:!0,path:"/",children:Object(s.jsx)(m,{})}),Object(s.jsx)(x.a,{exact:!0,path:"/post/*",children:Object(s.jsx)(O,{})})]})})}),document.getElementById("page-content")),o.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(w,{})}),document.getElementById("login"))}},[[37,1,2]]]);
//# sourceMappingURL=main.b2e49b45.chunk.js.map